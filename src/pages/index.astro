---
import Layout from '../components/Layout.astro';
import { getUnlockedDateET } from '../lib/time';
import { getLatestAvailablePuzzleDate } from '../lib/puzzles';

const base = import.meta.env.BASE_URL;
const unlockedDate = getUnlockedDateET(new Date());

const latest = await getLatestAvailablePuzzleDate(unlockedDate);

if (latest) {
  return Astro.redirect(`${base}p/${latest}/`);
}
---

<Layout>
  <h1>Puzzle Games</h1>
  <p>No puzzles have been published yet.</p>
</Layout>
